/*!
 *  PureJSDialog - 03/2016
 *  https://github.com/cristianolopesdefreitas/PureJSDialog
 *  Cristiano Lopes de Freitas
 *  Licence MIT
*/
!function(){"use strict";var a=a||{};window.PureJSDialog=a}(),function(a){"use strict";a.templates={alert:'<div id="pure-js-dialog"><div id="pure-js-dialog-header"><h3>[[ title ]]</h3><span id="[[ closeDialogID ]]" class="pure-js-dialog-close">x</span></div><div id="pure-js-dialog-body"><p>[[ message ]]</p></div><div id="pure-js-dialog-footer"><button type="button" id="[[ acceptButtonID ]]" class="pure-js-dialog-button pure-js-dialog-button-[[ acceptButtonColor ]] pure-js-dialog-button-accept">[[ acceptButtonText ]]</button></div></div>',confirm:'<div id="pure-js-dialog"><div id="pure-js-dialog-header"><h3>[[ title ]]</h3><span id="[[ closeDialogID ]]" class="pure-js-dialog-close">x</span></div><div id="pure-js-dialog-body"><p>[[ message ]]</p></div><div id="pure-js-dialog-footer"><button type="button" id="[[ cancelButtonID ]]" class="pure-js-dialog-button pure-js-dialog-button-[[ cancelButtonColor ]]">[[ cancelButtonText ]]</button><button type="button" id="[[ acceptButtonID ]]" class="pure-js-dialog-button pure-js-dialog-button-[[ acceptButtonColor ]] pure-js-dialog-button-accept">[[ acceptButtonText ]]</button></div></div>',prompt:'<div id="pure-js-dialog"><div id="pure-js-dialog-header"><h3>[[ title ]]</h3><span id="[[ closeDialogID ]]" class="pure-js-dialog-close">x</span></div><div id="pure-js-dialog-body"><p>[[ message ]]</p><p><input type="text" name="promptField" id="[[ fieldID ]]" class="pure-js-dialog-field" placeholder="[[ placeholderField ]]" autofocus></p></div><div id="pure-js-dialog-footer"><button type="button" id="[[ cancelButtonID ]]" class="pure-js-dialog-button pure-js-dialog-button-[[ cancelButtonColor ]]">[[ cancelButtonText ]]</button><button type="button" id="[[ acceptButtonID ]]" class="pure-js-dialog-button pure-js-dialog-button-[[ acceptButtonColor ]] pure-js-dialog-button-accept">[[ acceptButtonText ]]</button></div></div>'}}(window.PureJSDialog),function(a){"use strict";function b(){return e.addEventListener?"addEventListener":"attachEvent"}function c(){return e.removeEventListener?"removeEventListener":"detachEvent"}function d(){return e.addEventListener?"":"on"}var e=document.body;a.utils={addEvent:function(a,c,e){c[b()](d()+a,e)},removeEvent:function(a,b,e){b[c()](d()+a,e)},getById:function(a){return document.getElementById(a)},getStyleValue:function(a,b){return void 0!==window.getComputedStyle?getComputedStyle(a,null).getPropertyValue(b):a.currentStyle[b]},getTargetIdByEvent:function(a){var b=a.srcElement?a.srcElement:a.target;return b.getAttribute("id")},templateParser:function(a,b){var c="",d=0;for(var e in a)for(c="[[ "+e+" ]]",d=b.indexOf(c);d>-1;)b=b.replace("[[ "+e+" ]]",a[e]),d=b.indexOf(c);return b},mergeObject:function(a,b){var c={},d=null;for(d in a)c[d]=a[d];for(d in b)c[d]=b[d];return c},clickTriggerPressingEnter:function(a,b){var c=a.which||a.keyCode;13===c&&b.click()},elementFocus:function(a){a.focus()}}}(window.PureJSDialog),function(a){"use strict";var b={};a.listenerControl={addListener:function(a,c,d){b[c]={type:a,fn:d}},dispatch:function(c){var d=a.utils.getTargetIdByEvent(c);b[d]&&b[d].type===c.type&&b[d].fn()}},a.utils.addEvent("click",document.body,a.listenerControl.dispatch)}(window.PureJSDialog),function(a){"use strict";function b(b){b.onClose&&b.closeDialogID&&a.listenerControl.addListener("click",b.closeDialogID,b.onClose),b.onAccept&&b.acceptButtonID&&a.listenerControl.addListener("click",b.acceptButtonID,b.onAccept),b.onCancel&&b.cancelButtonID&&a.listenerControl.addListener("click",b.cancelButtonID,b.onCancel)}function c(b){f&&a.utils.clickTriggerPressingEnter(b,f)}var d=document.body,e={title:"",placeholderField:"",acceptButtonText:"OK",acceptButtonColor:"gray",cancelButtonText:"Cancelar",cancelButtonColor:"gray"},f=null;a.factory={createDialog:function(g,h){var i=document.createElement("div");h=a.utils.mergeObject(e,h),b(h),a.utils.getById("pure-js-dialog-wrapper")&&this.removeDialog(),i.setAttribute("id","pure-js-dialog-wrapper"),i.innerHTML=a.utils.templateParser(h,a.templates[g]),d.appendChild(i),this.resizeDialog(),this.showDialog(),f=document.querySelector(".pure-js-dialog-button-accept"),"prompt"===g?a.utils.elementFocus(a.utils.getById(h.fieldID)):a.utils.elementFocus(f),a.utils.addEvent("keypress",d,c)},removeDialog:function(){d.removeChild(a.utils.getById("pure-js-dialog-wrapper")),a.utils.removeEvent("keypress",d,c)},resizeDialog:function(){var b=a.utils.getById("pure-js-dialog-body"),c=a.utils.getById("pure-js-dialog"),d=this.getScreenHeight()-100,e=this.getElementHeight(b)+100;e>d&&(e=d),this.setElementHeight(b,e-100),this.setElementHeight(c,e)},getScreenHeight:function(){return window.innerHeight?window.innerHeight:document.documentElement.clientHeight},getElementHeight:function(a){return a.offsetHeight},setElementHeight:function(a,b){a.style.height=b+"px"},showDialog:function(){a.utils.getById("pure-js-dialog-wrapper").style.visibility="visible"}}}(window.PureJSDialog);